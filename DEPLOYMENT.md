# üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ High Five Coffee Bot –Ω–∞ –Ø–Ω–¥–µ–∫—Å –û–±–ª–∞–∫–µ

## üì¶ –ß—Ç–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è

| –°–µ—Ä–≤–∏—Å | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ—Ä—Ç |
|--------|----------|------|
| **telegram-bot** | –ë–æ—Ç –¥–ª—è –ø—Ä–∏—ë–º–∞ –∑–∞–∫–∞–∑–æ–≤ | 8000 |
| **admin** | –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ–Ω—é | 5050 |

–û–±–∞ —Å–µ—Ä–≤–∏—Å–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â—É—é –±–∞–∑—É `menu.db` (SQLite –≤ Docker volume).

---

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **–ê–∫–∫–∞—É–Ω—Ç –≤ –Ø–Ω–¥–µ–∫—Å –û–±–ª–∞–∫–µ**
2. **Docker –∏ Docker Compose** –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

---

## üñ• –°–æ–∑–¥–∞–Ω–∏–µ VPS

1. **–í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞:** Ubuntu 20.04 / 22.04 LTS, 2 vCPU, 2 GB RAM, 20 GB SSD
2. **–ì—Ä—É–ø–ø–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** –æ—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç—ã 22 (SSH), 80, 443, 5050 (–∞–¥–º–∏–Ω–∫–∞), 8000 (–±–æ—Ç)
3. **Firewall –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
sudo ufw allow 22
sudo ufw allow 80
sudo ufw allow 443
sudo ufw allow 5050
sudo ufw allow 8000
sudo ufw enable
```

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker

```bash
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER
# –í—ã–π–¥–∏—Ç–µ –∏ –∑–∞–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞ –ø–æ SSH

# Docker Compose (–µ—Å–ª–∏ –Ω–µ—Ç)
sudo apt install docker-compose-plugin -y
# –∏–ª–∏: docker compose (–≤—Å—Ç—Ä–æ–µ–Ω –≤ Docker 20.10+)
```

---

## üìÅ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ—Ö–æ–¥ –≤ –∫–∞—Ç–∞–ª–æ–≥

```bash
git clone https://github.com/tonyvats/high-five-coffee-bot.git
cd high-five-coffee-bot
```

### –®–∞–≥ 2: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
export BOT_TOKEN="–≤–∞—à_–ø—Ä–æ–¥_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather"
export ADMIN_IDS="462076,306535565"
export ADMIN_PASSWORD="–Ω–∞–¥—ë–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å_–¥–ª—è_–∞–¥–º–∏–Ω–∫–∏"
```

> **–í–∞–∂–Ω–æ:** `ADMIN_PASSWORD` ‚Äî –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å. –í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å.

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫

```bash
chmod +x deploy.sh
./deploy.sh
```

–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç `.env`, —Å–æ–±–µ—Ä—ë—Ç –æ–±—Ä–∞–∑—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –æ–±–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose ps
# –∏–ª–∏: docker-compose ps

# –õ–æ–≥–∏
docker compose logs -f
```

- **–ë–æ—Ç:** —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Telegram (@HighFiveCoffeeBot)
- **–ê–¥–º–∏–Ω–∫–∞:** http://–í–ê–®_IP:5050 (–ª–æ–≥–∏–Ω ‚Äî –ø–∞—Ä–æ–ª—å –∏–∑ `ADMIN_PASSWORD`)

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
cd high-five-coffee-bot
git pull
docker compose down
docker compose up -d --build
```

–ë–∞–∑–∞ `menu.db` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Docker volume, –¥–∞–Ω–Ω—ã–µ –º–µ–Ω—é –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è.

---

## üìä –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –î–µ–π—Å—Ç–≤–∏–µ | –ö–æ–º–∞–Ω–¥–∞ |
|----------|---------|
| –õ–æ–≥–∏ –±–æ—Ç–∞ | `docker compose logs -f telegram-bot` |
| –õ–æ–≥–∏ –∞–¥–º–∏–Ω–∫–∏ | `docker compose logs -f admin` |
| –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å | `docker compose down` |
| –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å | `docker compose restart` |

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–π `ADMIN_PASSWORD`
2. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ—Å—Ç–∞–≤–∏—Ç—å Nginx –ø–µ—Ä–µ–¥ –∞–¥–º–∏–Ω–∫–æ–π –∏ –∑–∞—â–∏—Ç–∏—Ç—å –±–∞–∑–æ–≤–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –∏–ª–∏ VPN
3. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç—É 5050 –ø–æ IP (—Ç–æ–ª—å–∫–æ –≤–∞—à –æ—Ñ–∏—Å / –∞–¥–º–∏–Ω—Å–∫–∏–µ IP)

---

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

**–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:**
```bash
docker compose logs telegram-bot
```

**–ê–¥–º–∏–Ω–∫–∞ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è:**
```bash
docker compose logs admin
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 5050 –æ—Ç–∫—Ä—ã—Ç: sudo ufw status
```

**–°–±—Ä–æ—Å –±–∞–∑—ã –º–µ–Ω—é** (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ ‚Äî –ø–æ—Ç–µ—Ä—è–µ—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è):
```bash
docker compose down -v   # —É–¥–∞–ª–∏—Ç volume —Å menu.db
docker compose up -d     # —Å–æ–∑–¥–∞—Å—Ç –Ω–æ–≤—É—é –ë–î —Å –Ω–∞—á–∞–ª—å–Ω—ã–º –º–µ–Ω—é
```
